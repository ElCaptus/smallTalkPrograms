Object subclass: #Consumo	instanceVariableNames: 'fecha consumoEnergiaActiva consumoEnergiaReactiva'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1 - DistribuidoraElectricaModell'!!Consumo methodsFor: 'accessing' stamp: 'Marcos9098 9/21/2019 13:26'!costoEnBaseA: unPrecio^consumoEnergiaActiva * unPrecio.! !!Consumo methodsFor: 'private' stamp: 'Marcos9098 9/21/2019 12:04'!activa: unaActiva reactiva: unaReactivaconsumoEnergiaActiva:= unaActiva .consumoEnergiaReactiva := unaReactiva .! !!Consumo methodsFor: 'private' stamp: 'Marcos9098 9/21/2019 13:37'!consumoActiva^consumoEnergiaActiva.! !!Consumo methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:14'!factorDePotencia |coseno activa reactiva|	activa:=consumoEnergiaActiva squared.	reactiva:= consumoEnergiaReactiva squared.	coseno:= (consumoEnergiaActiva)/((activa + reactiva) root).	^coseno.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Consumo class	instanceVariableNames: ''!!Consumo class methodsFor: 'initialiaze' stamp: 'Marcos9098 9/21/2019 12:05'!activa: unaActiva reactiva: unaReactiva^(self new)activa: unaActiva reactiva: unaReactiva .! !Object subclass: #Distribuidora	instanceVariableNames: 'precioKWh usuarios'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1 - DistribuidoraElectricaModell'!!Distribuidora methodsFor: 'initialization' stamp: 'Marcos9098 9/21/2019 11:25'!initialize 	usuarios:= Set new.	precioKWh := 0.! !!Distribuidora methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:39'!facturar |f|f:= OrderedCollection new.f add: (usuarios do:[:x|^x facturas]).^f! !!Distribuidora methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 11:28'!agregarUsuario: unUsuario	usuarios add: unUsuario.! !!Distribuidora methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 13:53'!consumoTotalActiva |x|x:=0.usuarios do: [:y| x:= x + y consumoTotalActiva  ].^x.! !!Distribuidora methodsFor: 'accessing' stamp: 'Marcos9098 9/21/2019 11:26'!precioKWh: anObject	precioKWh := anObject! !Object subclass: #Factura	instanceVariableNames: 'montoEnergiaActiva descuento fecha usuario'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1 - DistribuidoraElectricaModell'!!Factura methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:54'!descuento ^descuento ! !!Factura methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:55'!descuento: unDescuentodescuento := unDescuento.! !!Factura methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:59'!montoTotal ^montoEnergiaActiva+((montoEnergiaActiva *100)/descuento).! !!Factura methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:49'!fecha ^fecha! !!Factura methodsFor: 'private' stamp: 'Marcos9098 9/21/2019 13:01'!monto: unMonto descuento: unDescuento fecha: unaFecha de: unUsuariomontoEnergiaActiva := unMonto .descuento:= unDescuento .fecha:= unaFecha .usuario:= unUsuario.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Factura class	instanceVariableNames: ''!!Factura class methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 13:03'!monto: unMonto descuento: unDescuento fecha: unaFecha de: unUsuario^self new monto: unMonto descuento: unDescuento fecha: unaFecha de:unUsuario.! !Object subclass: #Usuario	instanceVariableNames: 'domicilio nombre facturas consumos'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1 - DistribuidoraElectricaModell'!!Usuario methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 12:37'!facturas^facturas.! !!Usuario methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 13:47'!facturarEnBaseA: unPrecio|potencia descuentoo|potencia:=((consumos top)factorDePotencia).descuentoo:=0.(potencia > 0.8) ifTrue: [ descuentoo:=10. ].^facturas add: (Factura new monto: ((consumos top) costoEnBaseA: unPrecio) descuento: descuentoo fecha: (Date today) de: self).! !!Usuario methodsFor: 'public' stamp: 'Marcos9098 9/21/2019 13:37'!ultimoConsumoActiva ^(consumos top)consumoActiva. ! !!Usuario methodsFor: 'private' stamp: 'Marcos9098 9/21/2019 12:01'!agregarMedicion: unaMedicion	consumos push: unaMedicion.! !!Usuario methodsFor: 'private' stamp: 'Marcos9098 9/21/2019 11:50'!nombre: unNombre domicilio: unDomicilionombre:= unNombre.domicilio:= unDomicilio .! !!Usuario methodsFor: 'initialization' stamp: 'Marcos9098 9/21/2019 11:59'!initialize 	facturas:= Stack new.	consumos:= OrderedCollection new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Usuario class	instanceVariableNames: 'nombre domicilio'!!Usuario class methodsFor: 'creation' stamp: 'Marcos9098 9/21/2019 11:51'!nombre: unNombre domicilio: unDomicilio^(self new)nombre:unNombre domicilio:unDomicilio.! !